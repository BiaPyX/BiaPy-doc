

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>CartoCell, a high-throughput pipeline for accurate 3D image analysis &mdash; BiaPy  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="MitoEM dataset: large-scale 3d mitochondria instance segmentation" href="mitoem.html" />
    <link rel="prev" title="Stable DNN architectures for mitochondria segmentation" href="stable.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> BiaPy
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Get started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../get_started/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../get_started/how_it_works.html">How it works</a></li>
<li class="toctree-l1"><a class="reference internal" href="../get_started/configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../get_started/select_workflow.html">Select workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../get_started/faq.html">FAQ</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Workflows</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../workflows/semantic_segmentation.html">Semantic segmentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflows/instance_segmentation.html">Instance segmentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflows/detection.html">Detection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflows/denoising.html">Denoising</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflows/super_resolution.html">Super-resolution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflows/self_supervision.html">Self-supervision</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflows/classification.html">Classification</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="stable.html">Stable DNN architectures for mitochondria segmentation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">CartoCell, a high-throughput pipeline for accurate 3D image analysis</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#problem-description">Problem description</a></li>
<li class="toctree-l2"><a class="reference internal" href="#data-preparation">Data preparation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#choose-a-template">Choose a template</a></li>
<li class="toctree-l2"><a class="reference internal" href="#run">Run</a></li>
<li class="toctree-l2"><a class="reference internal" href="#results">Results</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="mitoem.html">MitoEM dataset: large-scale 3d mitochondria instance segmentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="nucleus.html">NucMM dataset: 3d neuronal nuclei instance segmentation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../config/main_config.html">config</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data/data.html">data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../engine/engine.html">engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../models/models.html">models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utils/utils.html">utils</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Bibliography</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../bibliography.html">Bibliography</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">BiaPy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>CartoCell, a high-throughput pipeline for accurate 3D image analysis</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="cartocell-a-high-throughput-pipeline-for-accurate-3d-image-analysis">
<span id="cartocell"></span><h1>CartoCell, a high-throughput pipeline for accurate 3D image analysis<a class="headerlink" href="#cartocell-a-high-throughput-pipeline-for-accurate-3d-image-analysis" title="Permalink to this headline">¶</a></h1>
<p>This tutorial describes how to reproduce the results of the <code class="docutils literal notranslate"><span class="pre">M2</span> <span class="pre">model</span></code> reported in our paper to make instance segmentation of cysts in confocal microscope 3D images. The tutorial is prepared to make inference and load our pretrained model. The citation of our work is as follows:</p>
<p>[Paper under review]</p>
<div class="section" id="problem-description">
<h2>Problem description<a class="headerlink" href="#problem-description" title="Permalink to this headline">¶</a></h2>
<p>The goal is to segment and identify automatically each cell of each cyst in confocal microscope 3D images. To solve such task pairs of cyst images and their corresponding instance segmentation labels are provided. Below a pair example is depicted:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><div class="figure align-center" id="id1">
<a class="reference internal image-reference" href="../_images/cyst_sample.gif"><img alt="../_images/cyst_sample.gif" src="../_images/cyst_sample.gif" style="width: 325.0px; height: 305.0px;" /></a>
<p class="caption"><span class="caption-text">Cyst image sample</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
</td>
<td><div class="figure align-center" id="id2">
<a class="reference internal image-reference" href="../_images/cyst_instance_prediction.gif"><img alt="../_images/cyst_instance_prediction.gif" src="../_images/cyst_instance_prediction.gif" style="width: 325.0px; height: 305.0px;" /></a>
<p class="caption"><span class="caption-text">Corresponding instance mask</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="data-preparation">
<h2>Data preparation<a class="headerlink" href="#data-preparation" title="Permalink to this headline">¶</a></h2>
<p>You need to download <a class="reference external" href="https://data.mendeley.com/v1/datasets/7gbkxgngpm/draft#folder-ba6774bd-7858-4bfb-aca9-9ac307e72120">test_dataset_raw_images</a> and <a class="reference external" href="https://data.mendeley.com/v1/datasets/7gbkxgngpm/draft#folder-efddb305-dec1-46e3-b235-00d7cd670e66">test_dataset_ground_truth</a> data.</p>
</div>
<div class="section" id="choose-a-template">
<h2>Choose a template<a class="headerlink" href="#choose-a-template" title="Permalink to this headline">¶</a></h2>
<p>To reproduce the exact results of our manuscript you need to use <a class="reference external" href="https://github.com/danifranco/BiaPy/blob/master/templates/instance_segmentation/CartoCell_paper/cartocell.yaml">cartocell.yaml</a> configuration file and <a class="reference external" href="https://github.com/danifranco/BiaPy/blob/master/templates/instance_segmentation/CartoCell_paper/model_weights_cartocell.h5">model_weights_cartocell.h5</a> to load the pretrained model.</p>
<p>Then you need to modify <code class="docutils literal notranslate"><span class="pre">TEST.PATH</span></code> and <code class="docutils literal notranslate"><span class="pre">TEST.MASK_PATH</span></code> with the paths downloaded previouslty, i.e. <code class="docutils literal notranslate"><span class="pre">test_dataset_raw_images</span></code> and <code class="docutils literal notranslate"><span class="pre">test_dataset_ground_truth</span></code> respectively. You also need to modify <code class="docutils literal notranslate"><span class="pre">PATHS.CHECKPOINT_FILE</span></code> with the path of <code class="docutils literal notranslate"><span class="pre">model_weights_cartocell.h5</span></code> file.</p>
</div>
<div class="section" id="run">
<h2>Run<a class="headerlink" href="#run" title="Permalink to this headline">¶</a></h2>
<p>To run it via <strong>command line</strong> or <strong>Docker</strong> you can follow the same steps as decribed in <a class="reference internal" href="../workflows/instance_segmentation.html#instance-segmentation-run"><span class="std std-ref">Run</span></a>.</p>
<p><strong>Colab</strong>: <a class="reference external" href="https://colab.research.google.com/github/danifranco/BiaPy/blob/master/templates/instance_segmentation/CartoCell_paper/CartoCell_workflow.ipynb"><img alt="colablink" src="https://colab.research.google.com/assets/colab-badge.svg" /></a></p>
</div>
<div class="section" id="results">
<h2>Results<a class="headerlink" href="#results" title="Permalink to this headline">¶</a></h2>
<p>The results follow same structure as explained in <a class="reference internal" href="../workflows/instance_segmentation.html#instance-segmentation-results"><span class="std std-ref">Results</span></a>.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="mitoem.html" class="btn btn-neutral float-right" title="MitoEM dataset: large-scale 3d mitochondria instance segmentation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="stable.html" class="btn btn-neutral float-left" title="Stable DNN architectures for mitochondria segmentation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2022, Daniel Franco-Barranco.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>