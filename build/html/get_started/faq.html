

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>FAQ &mdash; BiaPy  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Semantic segmentation" href="../workflows/semantic_segmentation.html" />
    <link rel="prev" title="Select workflow" href="select_workflow.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> BiaPy
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Get started</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="how_it_works.html">How it works</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="select_workflow.html">Select workflow</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">FAQ</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#train-questions">Train questions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#test-inference-questions">Test/Inference questions</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Workflows</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../workflows/semantic_segmentation.html">Semantic segmentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflows/instance_segmentation.html">Instance segmentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflows/detection.html">Detection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflows/denoising.html">Denoising</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflows/super_resolution.html">Super-resolution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflows/self_supervision.html">Self-supervision</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflows/classification.html">Classification</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/cysto.html">3D Cysto Instance Segmentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/mitochondria.html">2D Mitochondria segmentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/mitochondria_instance.html">2D Mitochondria instance segmentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/nucleus.html">3D Nuclei Instance Segmentation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../config/main_config.html">config</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data/data.html">data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../engine/engine.html">engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../models/models.html">models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utils/utils.html">utils</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Bibliography</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../bibliography.html">Bibliography</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">BiaPy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>FAQ</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="faq">
<h1>FAQ<a class="headerlink" href="#faq" title="Permalink to this headline">¶</a></h1>
<div class="section" id="train-questions">
<h2>Train questions<a class="headerlink" href="#train-questions" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p>My training is too slow. What should I do?</p>
<blockquote>
<div><p>There are a few things you can do: 1) ensure <code class="docutils literal notranslate"><span class="pre">TRAIN.EPOCHS</span></code> and <code class="docutils literal notranslate"><span class="pre">TRAIN.PATIENCE</span></code> are set as you want ; 2) increase <code class="docutils literal notranslate"><span class="pre">TRAIN.BATCH_SIZE</span></code> ; 3) If you are not loading all the training data in memory, i.e. <code class="docutils literal notranslate"><span class="pre">DATA.TRAIN.IN_MEMORY</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code>, try to setting it to speed up the training process.</p>
</div></blockquote>
</li>
<li><p>I have no enough memory in my computer to set <code class="docutils literal notranslate"><span class="pre">DATA.TRAIN.IN_MEMORY</span></code>, so I’ve been using <code class="docutils literal notranslate"><span class="pre">DATA.EXTRACT_RANDOM_PATCH</span></code>. However, the training process is slow. Also, I need to ensure the entire training image is visited every epoch, not just a random patch extracted from it. What should I do?</p>
<blockquote>
<div><p>You can previously crop the data into patches of <code class="docutils literal notranslate"><span class="pre">DATA.PATCH_SIZE</span></code> you want to work with and disable <code class="docutils literal notranslate"><span class="pre">DATA.EXTRACT_RANDOM_PATCH</span></code> because all the images will have same shape. You can use <a class="reference external" href="https://github.com/danifranco/BiaPy/blob/master/utils/scripts/crop_2D_dataset.py">crop_2D_dataset.py</a> or <a class="reference external" href="https://github.com/danifranco/BiaPy/blob/master/utils/scripts/crop_3D_dataset.py">crop_3D_dataset.py</a> to crop the data.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="test-inference-questions">
<h2>Test/Inference questions<a class="headerlink" href="#test-inference-questions" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p>Test image output is totally black or very bad. No sign of learning seems to be performed. What can I do?</p>
<blockquote>
<div><p>First thing to do is to try knowing if the model training was correct. For that, you should check the output of the training, the loss and metric should be improving. If so, you can predict the training data and check it to ensure that at least the model learnt it. After that, check the test input image and try to check how different it is from the training samples. Remember that the test image values should be in the same range, more or less, of the images used for training.</p>
</div></blockquote>
</li>
<li><p>In the output a kind of grid or squares are appreciated. What can I do to improve the result?</p>
<blockquote>
<div><p>Sometimes the model’s prediction is worse in the borders of each patch than in the middle. To solve this you can use <code class="docutils literal notranslate"><span class="pre">DATA.TEST.OVERLAP</span></code> and <code class="docutils literal notranslate"><span class="pre">DATA.TEST.PADDING</span></code> variables. This last especially is designed to remove that <cite>border effect</cite>. E.g. if <code class="docutils literal notranslate"><span class="pre">DATA.PATCH_SIZE</span></code> selected is <code class="docutils literal notranslate"><span class="pre">(256,</span> <span class="pre">256,</span> <span class="pre">1)</span></code>, try setting <code class="docutils literal notranslate"><span class="pre">DATA.TEST.PADDING</span></code> to <code class="docutils literal notranslate"><span class="pre">(32,</span> <span class="pre">32)</span></code> to remove the jagged prediction effect when reconstructing the final test image.</p>
</div></blockquote>
</li>
<li><p>I trained the model and predicted some test data. Now I want to predict more new images, what can I do?</p>
<blockquote>
<div><p>You can disable <code class="docutils literal notranslate"><span class="pre">TRAIN.ENABLE</span></code> and enable <code class="docutils literal notranslate"><span class="pre">MODEL.LOAD_CHECKPOINT</span></code>. Those variables will disable training phase and find and load the training checkpoint respectively. Ensure you use the same job name, i.e. <code class="docutils literal notranslate"><span class="pre">--name</span></code> option when calling BiaPy, so the library can find the checkpoint that was stored in the job’s folder.</p>
</div></blockquote>
</li>
<li><p>The test images and their labels (if exist) are large and I have no enough memory to make the inference. What can I do?</p>
<blockquote>
<div><p>You can try setting <code class="docutils literal notranslate"><span class="pre">TEST.REDUCE_MEMORY</span></code> which will save as much memory as the library can at the price of slow down the inference process.</p>
</div></blockquote>
</li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="../workflows/semantic_segmentation.html" class="btn btn-neutral float-right" title="Semantic segmentation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="select_workflow.html" class="btn btn-neutral float-left" title="Select workflow" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2022, Daniel Franco-Barranco.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>